const showCart=document.getElementById("shopping-cart"),cart=document.querySelector(".shopcart"),shopElements=document.querySelector(".shop__items-wrapper"),checkOutBlock=document.querySelector(".checkout-block"),afterCkeckOutButton=document.querySelector(".backToStore");let objAboutGoods={price:0,count:0},arrGoods=[];showCart.addEventListener("click",(function(){cart.classList.add("shopcart_active")})),document.querySelector(".shopcart").addEventListener("click",(function(e){e.target.classList.contains("shopcart-close")&&(e.target.parentNode.classList.remove("shopcart_active"),arrGoods.length=0)})),shopElements.addEventListener("click",(function(e){if(e.target.classList.contains("delete-goods")){e.target.parentNode.parentNode.classList.add("shop-item_deletted");let t=e.target.previousElementSibling.previousElementSibling.innerHTML.split(" "),o=e.target.previousElementSibling.innerHTML.split(" ");objAboutGoods.price=Number(t[1]),objAboutGoods.count=Number(o[1]);let n=document.querySelector(".shopcart-suma").innerHTML.split(" ");n=n[3],n-=objAboutGoods.price,sumaPay-=objAboutGoods.price,setTimeout(()=>{e.target.parentNode.parentNode.remove()},300),countGoods.innerHTML=Number(countGoods.innerHTML)-objAboutGoods.count,Number(countGoods.innerHTML<10)&&(countGoods.style.right="12px");document.querySelector(".shopcart-suma").innerHTML=`Сумма к оплате: ${n} грн.`,0===sumaPay&&(arrGoods.length=0,$(".checkout").fadeOut(),setTimeout(()=>{cart.classList.remove("shopcart_active")},300))}}));const textarea=document.getElementById("list-goods");cart.addEventListener("click",(function(e){if(e.target.classList.contains("checkout")){cart.classList.remove("shopcart_active"),$("#overlay, #ckeckout-block").fadeIn("slow");let t=document.querySelectorAll(".shop-item_added");for(let e of t){let t={name:"",price:"",count:""};t.name=e.firstElementChild.nextElementSibling.firstElementChild.innerHTML,t.price=e.firstElementChild.nextElementSibling.firstElementChild.nextElementSibling.innerHTML,t.count=e.firstElementChild.nextElementSibling.firstElementChild.nextElementSibling.nextElementSibling.innerHTML,arrGoods.push(t)}for(let e=0;e<arrGoods.length;e++)textarea.innerHTML=textarea.innerHTML+arrGoods[e].name+"\n"+arrGoods[e].price+"\n"+arrGoods[e].count+"\n\n";e.stopImmediatePropagation()}e.stopImmediatePropagation()})),afterCkeckOutButton.addEventListener("click",()=>{$("#overlay, #afterCkecout").fadeOut()}),$(".valide-purchase").on("click",(function(){}));